<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EDM Helper — Config</title>
  <link rel="stylesheet" href="assets/css/config.css" />
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
</head>
<body>
  <header class="topbar">
    <div class="left">
      <button id="folderOpenBtn" class="btn primary"><i class="fa-solid fa-folder-open"></i> Open Folder</button>
      <span id="breadcrumb" class="breadcrumb" title="No folder">No folder</span>
    </div>
    <div class="right">
      <span id="campaignCountIndicator" title="Occurrences in XML">0/7</span>
      
    </div>
  </header>

  <main class="layout">
    <aside id="fileList" class="sidebar">
      <div class="sidebar-head">
        <div class="sidebar-title"><i class="fa-solid fa-folder-tree"></i> Files</div>
        <div class="filter-wrap">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input id="fileFilter" type="text" placeholder="Filter files…" />
        </div>
      </div>
      <div class="sidebar-body">
        <ul></ul>
        <div class="filelist-placeholder muted">Klik <b>Open Folder</b> untuk mulai.</div>
      </div>
    </aside>

    <section class="content">
      <div class="controls">
        <div class="field">
          <label for="campaignId">Campaign ID</label>
          <div class="control">
            <input id="campaignId" type="text" placeholder="YYYYMMDD_nama-campaign_XXXX" />
            <span id="campaignIdCharCount" class="muted">(0)</span>
            <span id="campaignIdCheckmark" class="status" style="display:none"></span>
          </div>
        </div>

        <div class="field">
          <label for="subject">Subject</label>
          <div class="control">
            <input id="subject" type="text" placeholder="Subject with <%[KRHRED_Unit_XX]|%>" />
            <span id="subjectCharCount" class="muted">(0)</span>
            <span id="subjectCheckmark" class="status" style="display:none"></span>
          </div>
        </div>

        <div class="field">
          <label for="link">Link</label>
          <div class="control">
            <input id="link" type="text" placeholder="http://example.com/1450-anything" />
            <span id="mismatchWarning" class="warn" style="display:none">Mismatch!</span>
            <span id="linkCheckmark" class="status" style="display:none"></span>
          </div>
        </div>

        <div class="buttons">
          <button id="applyUpdateBtn" class="btn"><i class="fa-solid fa-wand-magic-sparkles"></i> Apply Update</button>
          <button id="saveFileBtn" class="btn success" title="Save current XML"><i class="fa-solid fa-floppy-disk"></i> Save</button>

          <button id="updateCampaignIdBtn" class="btn"><i class="fa-solid fa-hashtag"></i> Update Campaign ID</button>
          <button id="updateSubjectBtn"   class="btn"><i class="fa-solid fa-envelope"></i> Update Subject</button>
          <button id="updateLinkBtn"      class="btn"><i class="fa-solid fa-link"></i> Update Link</button>
        </div>
      </div>

      <pre id="editor" class="editor" aria-label="XML editor"></pre>
    </section>
  </main>

  <div id="overlay" class="overlay" hidden>
    <div class="spinner" role="status" aria-label="Loading">
      <i class="fa-solid fa-rotate fa-spin"></i>
      <div>Loading…</div>
    </div>
  </div>

  <script src="assets/js/config.js"></script>
</body>
</html>
